## Роли файлов в проекте: Аналогия с командой корабля

Этот документ объясняет, за что отвечает каждый файл в проекте, чтобы было легко понять общую структуру.

---

### 1. `config.py` — Штурманская карта и приказы Адмирала

Это файл с настройками. Он как запечатанный конверт с приказами и картой, который выдается перед отплытием. Капитан и команда не придумывают маршрут сами, а берут его из этого файла.

**Что в нем находится:**
- **Секретные коды доступа (`API_KEY`, `SECRET_KEY`):** Пропуск в порт назначения (на биржу).
- **Цель миссии (`MIN_PROFIT_THRESHOLD`):** "Не вступать в бой, если добыча меньше 0.5%."
- **Размер отряда (`POSITION_SIZE`):** "В каждой операции задействовать 1000 единиц (USDT)."
- **Режим работы (`DEMO_MODE`):** `True` — "Проводим учения, стреляем холостыми." `False` — "Боевая тревога, работаем с реальным счетом."

> **Главная идея:** Если нужно что-то поменять в поведении бота (порог прибыли, сумму сделки, ключи) — вы редактируете только этот файл. Остальные файлы остаются нетронутыми.

---

### 2. `tiger_api.py` — Радист

Этот файл — специалист по связи. Он единственный на корабле, кто умеет пользоваться рацией (API) для общения с внешним миром (биржей Tiger Trade). Он не принимает решений, а только выполняет приказы.

**Его две главные команды:**
1.  **"Узнать обстановку!" (`get_market_data`):** По запросу Капитана он связывается с биржей и докладывает: "Цена BTC/USDT — 68000, цена LTC/USDT — 150..."
2.  **"Выполнить приказ!" (`place_order`):** Получив команду от Капитана, он передает ее на биржу: "Продать BTC на 1000 USDT!" или "Купить LTC на 15000 USDT!"

> **Главная идея:** Вся "грязная" работа по общению с биржей изолирована здесь. Если Tiger Trade когда-нибудь изменит свой API, нам нужно будет чинить только этот файл, а не весь проект.

---

### 3. `arbitrage_strategy.py` — Капитан

Это "мозг" всей операции. Капитан не говорит по рации и не смотрит в карту сам. Он получает данные от своих подчиненных и на их основе принимает тактические решения.

**Его рабочий цикл:**
1.  **Запрашивает данные:** Говорит Радисту (`tiger_api.py`): "Доложите обстановку по ценам!"
2.  **Анализирует:** Смотрит на полученные цены и сверяется с приказом Адмирала (`config.py`): "Так, разница в ценах 0.52%. Приказ — атаковать при >0.5%. Условия выполнены."
3.  **Принимает решение:** Определяет, какую именно последовательность действий нужно совершить для извлечения выгоды.
4.  **Отдает приказы:** Говорит Радисту (`tiger_api.py`): "Передайте на биржу приказ: сначала продать BTC, потом купить LTC, потом продать LTC/BTC."

> **Главная идея:** Вся логика самой арбитражной стратегии находится здесь. Если мы захотим изменить или улучшить саму стратегию, мы будем работать только с этим файлом.

---

### 4. `main.py` — Старший помощник

Это самый главный файл, который запускает всю команду в работу. Он как старпом, который перед отплытием собирает всех на палубе и говорит: "Начинаем!".

**Что он делает:**
1.  **Собирает команду:** Создает объекты Капитана (`TriangularArbitrageStrategy`) и Радиста (`TigerTradeAPI`).
2.  **Снабжает их информацией:** Дает Капитану в руки приказы Адмирала (передает настройки из `config.py`) и знакомит его с Радистом (передает объект API в стратегию).
3.  **Отдает команду "Начать!":** Запускает главный рабочий цикл Капитана (`run_strategy()`).
4.  **Обеспечивает порядок:** Настраивает логирование (чтобы все действия команды записывались в бортовой журнал) и следит за сигналом "Отбой!" (`Ctrl+C`), чтобы корректно завершить работу.

> **Главная идея:** Этот файл ничего не знает ни о стратегии, ни об API. Его единственная задача — правильно собрать все части вместе и запустить процесс.
